<div class="mission-dialog">
  <!-- Header -->
  <div class="dialog-header">
    <div class="header-icon">
      <i [class]="'pi ' + (addMission.name ? 'pi-pencil' : 'pi-plus')"></i>
    </div>
    <div>
      <h2 class="dialog-title">{{ _config.data?.id ? 'Edit Room' : 'Create New Room' }}</h2>
      <p class="dialog-subtitle">
        {{ _config.data?.id ? 'Update your room details' : 'Set up your activity room' }}
      </p>
    </div>
  </div>

  <!-- Body -->
  <div class="dialog-body">
    <!-- Room Name -->
    <div class="field-group">
      <label class="field-label">Activity Name</label>
      <input
        pInputText
        [(ngModel)]="addMission.name"
        placeholder="What are we doing today?..."
        class="field-input"
      />
    </div>

    <!-- Category -->
    <div class="field-group">
      <label class="field-label">Category</label>
      <p-select
        [(ngModel)]="addMission.category"
        [options]="categories"
        optionLabel="label"
        optionValue="value"
        placeholder="Select Vibe type..."
        styleClass="field-select"
      ></p-select>
    </div>

    <!-- Description -->
    <div class="field-group">
      <label class="field-label">Description</label>
      <textarea
        pTextarea
        [(ngModel)]="addMission.description"
        [autoResize]="true"
        rows="3"
        placeholder="Provide details for participants..."
        class="field-textarea"
      ></textarea>
    </div>

    <!-- Stats & Time -->
    <div class="two-col">
      <div class="field-group">
        <label class="field-label">Max Participants</label>
        <p-inputNumber
          [(ngModel)]="addMission.max_crew"
          [min]="1"
          [max]="50"
          [showButtons]="true"
          styleClass="field-number"
          inputClass="text-center font-bold"
        ></p-inputNumber>
      </div>
      <div class="field-group">
        <label class="field-label">Date & Time</label>
        <p-datepicker
          [(ngModel)]="addMission.scheduled_at"
          [showTime]="true"
          appendTo="body"
          styleClass="field-date"
        ></p-datepicker>
      </div>
    </div>

    <!-- Location -->
    <div class="field-group">
      <label class="field-label">Location</label>
      <div class="input-with-icon">
        <i class="pi pi-map-marker input-icon"></i>
        <input
          pInputText
          [(ngModel)]="addMission.location"
          placeholder="Where are we going?..."
          class="field-input"
        />
      </div>
    </div>
  </div>

  <!-- Footer -->
  <div class="dialog-footer">
    <button pButton label="Cancel" (click)="_ref.close()" class="btn-cancel"></button>
    <button
      pButton
      [label]="_config.data?.id ? 'Update Room' : 'Create Room'"
      icon="pi pi-check"
      [disabled]="!addMission.name"
      (click)="onSubmit()"
      class="btn-submit"
    ></button>
  </div>
</div>
