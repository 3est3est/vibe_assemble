<div class="page-header">
  <h2>My Joined Missions</h2>
  <p>Missions you are currently participating in.</p>
</div>

<div class="mission-list">
  @if ((myJoinedMissions$ | async)?.length) {
    <div class="header">
      <span class="name">Name</span>
      <span class="description">Description</span>
      <span class="chief">Chief</span>
      <span class="crew_count">Crew</span>
      <span class="status">Status</span>
      <span class="created_at">Created at</span>
      <span class="action">Actions</span>
    </div>

    @for (mission of myJoinedMissions$ | async; track mission.id) {
      <div class="contents">
        <span class="name">{{ mission.name }}</span>
        <span class="description">{{ mission.description }}</span>
        <span class="chief">{{ mission.chief_display_name }}</span>
        <span class="crew_count">{{ mission.crew_count }}</span>
        <span class="status" [attr.data-status]="mission.status">{{ mission.status }}</span>
        <span class="created_at">{{ mission.created_at | date: 'short' }}</span>
        <span class="action">
          <button class="leave-btn" (click)="onLeave(mission)">Leave</button>
        </span>
      </div>
    }
  } @else {
    <div class="empty-state">
      <p>You haven't joined any missions yet.</p>
      <a routerLink="/missions">Browse available missions</a>
    </div>
  }
</div>
